---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';
import FormattedDate from './shortcodes/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, createdAt, updatedDate, thumbnail } = Astro.props satisfies Props;
---

<Layout title={title} description={description} image={thumbnail} mainVariant="default">
	<article class="blog-post">
		<header class="post-header">
			<h1 class="post-title">{title}</h1>
			{thumbnail && (
				<div class="hero-image">
					<Image width={1200} height={600} src={thumbnail} alt={title} />
				</div>
			)}
		</header>
		<div class="post-content prose">
			<slot />
		</div>
	</article>

	<style>
		.blog-post {
			max-width: 100%;
		}

		.post-header {
			margin-bottom: 3rem;
		}

		.post-title {
			font-size: clamp(2rem, 5vw, 2.5rem);
			font-weight: 700;
			line-height: 1.2;
			margin: 0 0 2rem 0;
			color: #0f0f11;
		}

		.hero-image {
			border-radius: 12px;
			overflow: hidden;
			margin-bottom: 2rem;
		}

		.hero-image img {
			display: block;
			width: 100%;
			height: auto;
		}

		.post-content {
			font-size: 1rem;
			line-height: 1.8;
			color: #374151;
		}

		.post-content :global(h1),
		.post-content :global(h2),
		.post-content :global(h3),
		.post-content :global(h4),
		.post-content :global(h5),
		.post-content :global(h6) {
			margin-top: 2.5rem;
			margin-bottom: 1rem;
			font-weight: 700;
			line-height: 1.3;
			color: #0f0f11;
		}

		.post-content :global(h1) {
			font-size: 2rem;
		}

		.post-content :global(h2) {
			font-size: 1.75rem;
		}

		.post-content :global(h3) {
			font-size: 1.5rem;
		}

		.post-content :global(h4) {
			font-size: 1.25rem;
		}

		.post-content :global(h5) {
			font-size: 1.125rem;
		}

		.post-content :global(h6) {
			font-size: 1rem;
		}

		.post-content :global(a:not(.element-button)) {
			color: #2563eb;
			text-decoration: none;
			border-bottom: 1px solid rgba(37, 99, 235, 0.3);
			transition: all 0.2s ease;
		}

		.post-content :global(a:not(.element-button):hover) {
			border-bottom-color: #2563eb;
		}

		.post-content :global(strong) {
			font-weight: 600;
			color: #1f2937;
		}

		.post-content :global(code) {
			background: #f3f4f6;
			padding: 0.2em 0.4em;
			border-radius: 4px;
			font-size: 0.9em;
			color: #e04c3a;
		}

		.post-content :global(pre) {
			margin: 2rem 0;
		}

		.post-content :global(pre code) {
			background: transparent;
			padding: 0;
			color: inherit;
		}

		@media (max-width: 768px) {
			.post-header {
				margin-bottom: 2rem;
			}

			.post-title {
				font-size: 1.75rem;
				margin-bottom: 1.5rem;
			}

			.post-content :global(h1) {
				font-size: 1.75rem;
			}

			.post-content :global(h2) {
				font-size: 1.5rem;
			}

			.post-content :global(h3) {
				font-size: 1.25rem;
			}
		}
	</style>
</Layout>
